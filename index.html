<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <meta name="google-adsense-account" content="ca-pub-5417822588131141"> 
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CKZB26VTQ7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-CKZB26VTQ7');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aptitude Practice Platform</title>
    <style>
        /* Common Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background-color: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: #f8f9fa;
            color: #333;
            border: 1px solid #ddd;
        }

        .btn-secondary:hover {
            background-color: #e9ecef;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Home Page Styles */
        .home-page {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            animation: fadeIn 0.8s ease-out;
        }

        .home-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 0;
            margin-bottom: 40px;
            animation: slideIn 0.8s ease-out;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3498db, #2c80b9);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: 700;
            animation: pulse 2s infinite;
        }

        .logo-text h1 {
            color: #2c3e50;
            font-size: 2.2rem;
        }

        .logo-text p {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .home-header-actions {
            display: flex;
            gap: 15px;
        }

        .btn-home {
            padding: 10px 20px;
            background-color: #2c3e50;
            color: white;
        }

        .btn-home:hover {
            background-color: #3498db;
            animation: bounce 0.5s ease;
        }

        .hero {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 80px;
            flex-wrap: wrap;
            gap: 40px;
        }

        .hero-content {
            flex: 1;
            min-width: 300px;
            animation: slideIn 0.8s ease-out 0.2s both;
        }

        .hero h2 {
            font-size: 3rem;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero h2 span {
            color: #3498db;
        }

        .hero p {
            font-size: 1.2rem;
            color: #5a6c7d;
            margin-bottom: 30px;
        }

        .hero-image {
            flex: 1;
            min-width: 300px;
            text-align: center;
            animation: fadeIn 0.8s ease-out 0.4s both;
        }

        .hero-visual {
            background: linear-gradient(135deg, #3498db, #2c80b9);
            width: 100%;
            height: 400px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .hero-visual::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite linear;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .section-title {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 20px;
            animation: fadeIn 0.8s ease-out;
        }

        .section-subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 60px;
            animation: fadeIn 0.8s ease-out 0.2s both;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 80px;
        }

        .feature-card {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            text-align: center;
            animation: fadeIn 0.8s ease-out;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
            animation: bounce 0.5s ease;
        }

        .feature-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #3498db, #2c80b9);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: white;
            font-size: 30px;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
            margin-bottom: 80px;
        }

        .topic-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            animation: fadeIn 0.8s ease-out;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            background-color: #f8fafd;
            animation: pulse 0.5s ease;
        }

        .topic-icon {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: 600;
        }

        .cta-section {
            background: linear-gradient(135deg, #3498db, #2c80b9);
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            color: white;
            margin-bottom: 60px;
            box-shadow: 0 15px 40px rgba(52, 152, 219, 0.3);
            animation: fadeIn 0.8s ease-out;
        }

        .cta-section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .cta-section p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .btn-cta {
            background-color: white;
            color: #3498db;
            padding: 16px 40px;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .btn-cta:hover {
            background-color: #f8f9fa;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2);
            animation: bounce 0.5s ease;
        }

        .footer {
            padding: 40px 0;
            border-top: 1px solid #eaeaea;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .footer-links {
            display: flex;
            gap: 30px;
        }

        .footer-links a {
            color: #5a6c7d;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #3498db;
        }

        .copyright {
            color: #7f8c8d;
            font-size: 0.9rem;
            width: 100%;
            text-align: center;
            margin-top: 30px;
        }

        /* Practice Page Styles */
        .practice-page {
            background-color: #f5f7fa;
            min-height: 100vh;
            display: none;
            animation: fadeIn 0.8s ease-out;
        }

        .practice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 20px;
            margin-bottom: 30px;
            border-bottom: 2px solid #eaeaea;
        }

        .practice-header h1 {
            color: #2c3e50;
            font-size: 2rem;
        }

        .content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }

        .sidebar {
            flex: 1;
            min-width: 280px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 25px;
            height: fit-content;
            animation: slideIn 0.6s ease-out;
        }

        .main-content {
            flex: 2;
            min-width: 300px;
            animation: fadeIn 0.8s ease-out 0.2s both;
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .topic-list {
            list-style: none;
        }

        .topic-item {
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #3498db;
        }

        .topic-item:hover {
            background-color: #e3f2fd;
            transform: translateX(5px);
            animation: pulse 0.3s ease;
        }

        .topic-item.active {
            background-color: #d6eaf8;
            border-left-color: #2c80b9;
            font-weight: 600;
        }

        .question-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 30px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, #3498db, #2c80b9);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
        }

        .topic-badge {
            background-color: #3498db;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 25px;
            line-height: 1.7;
            color: #2c3e50;
        }

        .options-container {
            margin-bottom: 30px;
        }

        .option-item {
            padding: 15px;
            margin-bottom: 12px;
            background-color: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #eaeaea;
            position: relative;
            overflow: hidden;
        }

        .option-item:hover {
            background-color: #e3f2fd;
            transform: translateX(5px);
        }

        .option-item.selected {
            background-color: #d6eaf8;
            border-color: #3498db;
            animation: pulse 0.5s ease;
        }

        .option-item.correct {
            background-color: #d4edda;
            border-color: #28a745;
            animation: bounce 0.5s ease;
        }

        .option-item.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 15px;
            position: relative;
        }

        .explanation {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 6px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .explanation.show {
            display: block;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 20px;
            margin-bottom: 25px;
            animation: slideIn 0.6s ease-out;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #3498db;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
            color: #7f8c8d;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        /* Share Options Styles */
        .share-container {
            position: relative;
            display: inline-block;
        }

        .share-btn {
            background-color: #25D366;
            color: white;
            padding: 12px 25px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .share-btn:hover {
            background-color: #128C7E;
            transform: translateY(-2px);
            animation: none;
        }

        .share-options {
            position: absolute;
            bottom: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            padding: 15px;
            min-width: 280px;
            z-index: 1000;
            display: none;
            animation: fadeIn 0.3s ease;
            margin-bottom: 10px;
        }

        .share-options.show {
            display: block;
        }

        .share-options::before {
            content: '';
            position: absolute;
            bottom: -8px;
            right: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid white;
        }

        .share-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 8px;
        }

        .share-option:last-child {
            margin-bottom: 0;
        }

        .share-option:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }

        .share-option-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }

        .share-success {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s ease;
        }

        .share-success.show {
            display: flex;
        }

        /* Navigation */
        .nav-back {
            background-color: #f8f9fa;
            color: #2c3e50;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-back:hover {
            background-color: #e9ecef;
            transform: translateX(-5px);
            animation: bounce 0.5s ease;
        }

        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
            
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
            
            .stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .home-header, .footer {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .share-options {
                right: auto;
                left: 0;
            }
            
            .share-options::before {
                right: auto;
                left: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Home Page -->
    <div id="homePage" class="home-page">
        <div class="container">
            <header class="home-header">
                <div class="logo">
                    <div class="logo-icon">AP</div>
                    <div class="logo-text">
                        <h1>Aptitude Practice</h1>
                        <p>Master aptitude tests with confidence</p>
                    </div>
                </div>
                <div class="home-header-actions">
                    <button class="btn btn-primary" id="startPracticeBtn">Start Practicing</button>
                </div>
            </header>

            <section class="hero">
                <div class="hero-content">
                    <h2>Ace Your <span>Aptitude Tests</span> with Interactive Practice</h2>
                    <p>Prepare for competitive exams, job interviews, and placement tests with our comprehensive collection of aptitude questions. Get detailed explanations, track your progress, and improve your problem-solving skills.</p>
                    <button class="btn btn-primary" id="heroPracticeBtn">
                        <span>Start Practicing Now</span>
                        <span style="font-size: 1.2rem;">‚Üí</span>
                    </button>
                </div>
                <div class="hero-image">
                    <div class="hero-visual">
                        <div style="text-align: center; padding: 20px;">
                            <h1>Made By Shubham</h1>
                            <div style="font-size: 3rem; margin-bottom: 20px;">üìä</div>
                            <h3 style="margin-bottom: 10px;">Interactive Aptitude Platform</h3>
                            <p  style="color: white;">Practice questions with instant feedback</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="features">
                <h2 class="section-title">Why Choose Our Platform</h2>
                <p class="section-subtitle">We provide everything you need to master aptitude tests and improve your problem-solving skills</p>
                
                <div class="feature-card">
                    <div class="feature-icon">üìö</div>
                    <h3>Comprehensive Topics</h3>
                    <p>Cover all major aptitude topics including Mixtures, Profit & Loss, Permutations, and more.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Instant Feedback</h3>
                    <p>Get immediate explanations for each question to understand concepts better.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üìà</div>
                    <h3>Progress Tracking</h3>
                    <p>Monitor your improvement with detailed statistics and performance analytics.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Exam Simulation</h3>
                    <p>Practice with timed tests that simulate real exam conditions.</p>
                </div>
            </section>

            <section class="topics">
                <h2 class="section-title">Practice All Aptitude Topics</h2>
                <p class="section-subtitle">Our platform covers every major aptitude topic you need to master</p>
                
                <div class="topics-grid">
                    <div class="topic-card" data-topic="Random">
                        <div class="topic-icon">üé≤</div>
                        <div class="topic-info">
                            <h4>Random Questions</h4>
                            <p>Mixed questions from all topics</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="MixtureAndAlligation">
                        <div class="topic-icon">üß™</div>
                        <div class="topic-info">
                            <h4>Mixture & Alligation</h4>
                            <p>Ratio and mixture problems</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="Age">
                        <div class="topic-icon">üéÇ</div>
                        <div class="topic-info">
                            <h4>Age Problems</h4>
                            <p>Problems based on ages</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="PermutationAndCombination">
                        <div class="topic-icon">üî¢</div>
                        <div class="topic-info">
                            <h4>Permutation & Combination</h4>
                            <p>Counting and arrangement problems</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="ProfitAndLoss">
                        <div class="topic-icon">üí∞</div>
                        <div class="topic-info">
                            <h4>Profit & Loss</h4>
                            <p>Business math problems</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="PipesAndCistern">
                        <div class="topic-icon">üö∞</div>
                        <div class="topic-info">
                            <h4>Pipes & Cistern</h4>
                            <p>Time and work problems</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="SpeedTimeDistance">
                        <div class="topic-icon">üöó</div>
                        <div class="topic-info">
                            <h4>Speed Time Distance</h4>
                            <p>Motion and travel problems</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="Calendar">
                        <div class="topic-icon">üìÖ</div>
                        <div class="topic-info">
                            <h4>Calendars</h4>
                            <p>Date and day calculations</p>
                        </div>
                    </div>
                    
                    <div class="topic-card" data-topic="SimpleInterest">
                        <div class="topic-icon">üè¶</div>
                        <div class="topic-info">
                            <h4>Simple Interest</h4>
                            <p>Financial math problems</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="cta-section">
                <h2>Ready to Boost Your Aptitude Skills?</h2>
                <p>Join thousands of successful learners who have improved their problem-solving abilities and aced their exams with our practice platform.</p>
                <button class="btn btn-cta" id="ctaPracticeBtn">Start Free Practice Now</button>
            </section>

            <footer class="footer">
                <div class="footer-logo">
                    <div class="logo-icon" style="width: 40px; height: 40px; font-size: 18px;">AP</div>
                    <h3>Aptitude Practice</h3>
                </div>
                <div class="footer-links">
                    <a href="#" onclick="showHomePage()">Home</a>
                    <a href="#" onclick="showPracticePage()">Practice</a>
                    <a href="#">Topics</a>
                    <a href="#">About</a>
                </div>
                <div class="copyright">
                    &copy; 2025 Aptitude Practice Platform. All rights reserved. | Questions sourced from aptitude-api.vercel.app
                </div>
            </footer>
        </div>
    </div>

    <!-- Practice Page -->
    <div id="practicePage" class="practice-page">
        <div class="container">
            <header class="practice-header">
                <div>
                    <h1>Aptitude Practice Platform</h1>
                    <p class="subtitle">Prepare for aptitude tests with questions from various topics</p>
                </div>
                <a href="#" class="nav-back" onclick="showHomePage()">
                    <span>‚Üê</span> Back to Home
                </a>
            </header>

            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalQuestions">0</div>
                    <div class="stat-label">Questions Loaded</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="correctAnswers">0</div>
                    <div class="stat-label">Correct Answers</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="currentTopic">Random</div>
                    <div class="stat-label">Current Topic</div>
                </div>
            </div>

            <div class="content">
                <div class="sidebar">
                    <h2>Aptitude Topics</h2>
                    <ul class="topic-list">
                        <li class="topic-item active" data-topic="Random">
                            <span>Random Questions</span>
                            <span class="topic-badge">All</span>
                        </li>
                        <li class="topic-item" data-topic="MixtureAndAlligation">
                            <span>Mixture and Alligation</span>
                            <span class="topic-badge">Math</span>
                        </li>
                        <li class="topic-item" data-topic="Age">
                            <span>Age Problems</span>
                            <span class="topic-badge">Math</span>
                        </li>
                        <li class="topic-item" data-topic="PermutationAndCombination">
                            <span>Permutation and Combination</span>
                            <span class="topic-badge">Math</span>
                        </li>
                        <li class="topic-item" data-topic="ProfitAndLoss">
                            <span>Profit and Loss</span>
                            <span class="topic-badge">Math</span>
                        </li>
                        <li class="topic-item" data-topic="PipesAndCistern">
                            <span>Pipes and Cistern</span>
                            <span class="topic-badge">Math</span>
                        </li>
                        <li class="topic-item" data-topic="SpeedTimeDistance">
                            <span>Speed Time Distance</span>
                            <span class="topic-badge">Math</span>
                        </li>
                        <li class="topic-item" data-topic="Calendar">
                            <span>Calendars</span>
                            <span class="topic-badge">Reasoning</span>
                        </li>
                        <li class="topic-item" data-topic="SimpleInterest">
                            <span>Simple Interest</span>
                            <span class="topic-badge">Math</span>
                        </li>
                    </ul>
                    
                    <div style="margin-top: 30px;">
                        <h3>How to Use</h3>
                        <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">
                            1. Select a topic from the list<br>
                            2. Answer the question by clicking an option<br>
                            3. Check your answer with "Show Answer"<br>
                            4. Get a new question with "Next Question"<br>
                            5. Share questions with friends on WhatsApp
                        </p>
                    </div>
                </div>

                <div class="main-content">
                    <div class="question-card">
                        <div class="question-header">
                            <h2 id="currentQuestionTopic">Random Question</h2>
                            <div class="topic-badge" id="questionTopicBadge">Random</div>
                        </div>
                        
                        <div id="loading" class="loading">
                            <div class="spinner"></div>
                            <p>Loading question from API...</p>
                        </div>
                        
                        <div id="questionContent" style="display: none;">
                            <div class="question-text" id="questionText"></div>
                            
                            <div class="options-container" id="optionsContainer"></div>
                            
                            <div class="controls">
                                <button id="showAnswerBtn" class="btn-primary">Show Answer</button>
                                <div class="share-container">
                                    <button class="share-btn" id="shareBtn">
                                        <span>üì±</span> Share Question
                                    </button>
                                    <div class="share-options" id="shareOptions">
                                        <div class="share-option" data-type="question-only">
                                            <div class="share-option-icon">‚ùì</div>
                                            <div>
                                                <strong>Question + Options</strong>
                                                <small>Share without answer (for challenges)</small>
                                            </div>
                                        </div>
                                        <div class="share-option" data-type="with-solution">
                                            <div class="share-option-icon">üìö</div>
                                            <div>
                                                <strong>Question + Solution</strong>
                                                <small>Share with answer & explanation</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button id="nextQuestionBtn" class="btn-secondary">Next Question</button>
                            </div>
                            
                            <div class="explanation" id="explanationContainer">
                                <h3>Explanation</h3>
                                <p id="explanationText"></p>
                                <p id="correctAnswerText" style="margin-top: 10px; font-weight: 600;"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Share Success Message -->
            <div id="shareSuccess" class="share-success">
                <span>‚úÖ</span>
                <span>Question shared successfully!</span>
            </div>

            <div class="footer">
                <p>Aptitude Practice Platform By Shubham &copy; 2025 | Questions sourced from aptitude-api.vercel.app</p>
            </div>
        </div>
    </div>

    <script>
        // Page navigation functions
        function showHomePage() {
            document.getElementById('homePage').style.display = 'block';
            document.getElementById('practicePage').style.display = 'none';
            return false;
        }

        function showPracticePage(topic = null) {
            document.getElementById('homePage').style.display = 'none';
            document.getElementById('practicePage').style.display = 'block';
            
            // If a specific topic was requested from home page, select it
            if (topic) {
                selectTopic(topic);
            } else {
                // Otherwise load a random question
                loadQuestion();
            }
            
            return false;
        }

        // Practice page functionality
        let currentTopic = 'Random';
        let currentQuestion = null;
        let selectedOption = null;
        let questionCount = 0;
        let correctCount = 0;
        let currentQuestionId = null; // To track current question for direct links
        let questionCache = {}; // Cache for faster loading
        let preloadedQuestion = null; // Preload next question

        // DOM Elements
        const topicItems = document.querySelectorAll('.topic-item');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const showAnswerBtn = document.getElementById('showAnswerBtn');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');
        const explanationContainer = document.getElementById('explanationContainer');
        const explanationText = document.getElementById('explanationText');
        const correctAnswerText = document.getElementById('correctAnswerText');
        const loadingElement = document.getElementById('loading');
        const questionContent = document.getElementById('questionContent');
        const totalQuestionsElement = document.getElementById('totalQuestions');
        const correctAnswersElement = document.getElementById('correctAnswers');
        const currentTopicElement = document.getElementById('currentTopic');
        const questionTopicBadge = document.getElementById('questionTopicBadge');
        const currentQuestionTopic = document.getElementById('currentQuestionTopic');
        const shareBtn = document.getElementById('shareBtn');
        const shareOptions = document.getElementById('shareOptions');
        const shareSuccess = document.getElementById('shareSuccess');

        // API endpoints with fallbacks
        const apiEndpoints = {
            'Random': 'https://aptitude-api.vercel.app/Random',
            'MixtureAndAlligation': 'https://aptitude-api.vercel.app/MixtureAndAlligation',
            'Age': 'https://aptitude-api.vercel.app/Age',
            'PermutationAndCombination': 'https://aptitude-api.vercel.app/PermutationAndCombination',
            'ProfitAndLoss': 'https://aptitude-api.vercel.app/ProfitAndLoss',
            'PipesAndCistern': 'https://aptitude-api.vercel.app/PipesAndCistern',
            'SpeedTimeDistance': 'https://aptitude-api.vercel.app/SpeedTimeDistance',
            'Calendar': 'https://aptitude-api.vercel.app/Calendar',
            'SimpleInterest': 'https://aptitude-api.vercel.app/SimpleInterest'
        };

        // List of interactive emojis for group interaction
        const interactiveEmojis = [
            "ü§î", "üß†", "üí°", "üéØ", "‚≠ê", "üî•", "üöÄ", "üíØ", "üëç", "üëé",
            "üòä", "üòé", "ü§Ø", "üéâ", "üèÜ", "üìà", "üí™", "‚ú®", "üåü", "‚úÖ"
        ];

        // Get a random interactive emoji
        function getRandomInteractiveEmoji() {
            return interactiveEmojis[Math.floor(Math.random() * interactiveEmojis.length)];
        }

        // Check if there's a direct link request
      // Check if there's a direct link request
function checkForDirectLink() {
    const urlParams = new URLSearchParams(window.location.search);
    const questionId = urlParams.get('qid');
    
    if (questionId) {
        // Try to load from localStorage
        const storedQuestion = localStorage.getItem(questionId);
        if (storedQuestion) {
            try {
                const questionData = JSON.parse(storedQuestion);
                currentQuestion = questionData;
                currentTopic = questionData.topic || 'Random';
                currentQuestionId = questionId;
                
                // Update UI
                displayQuestion(questionData);
                
                // If question has answer, show it
                if (questionData.hasAnswer) {
                    showAnswer(); // Automatically show answer for direct links
                }
                
                // DON'T increment question count here!
                // Update stats WITHOUT incrementing
                updateStats(); // This will show existing counts
                
                // Update topic selection
                selectTopic(currentTopic);
                
                return true;
            } catch (e) {
                console.error('Error loading stored question:', e);
            }
        }
    }
    return false;
}

      // Initialize the app when practice page loads
function initPracticePage() {
    // Check for direct link first
    const hasDirectLink = checkForDirectLink();
    
    if (!hasDirectLink) {
        // Set up event listeners for topic selection
        topicItems.forEach(item => {
            item.addEventListener('click', function() {
                const topic = this.getAttribute('data-topic');
                selectTopic(topic);
            });
        });
        
        // Set up event listeners for buttons
        showAnswerBtn.addEventListener('click', showAnswer);
        nextQuestionBtn.addEventListener('click', loadQuestion);
        
        // Set up share functionality
        initShareFunctionality();
        
        // Load initial question - ONLY if NOT from direct link
        loadQuestion();
        
        // Preload next question
        setTimeout(preloadNextQuestion, 100);
    } else {
        // If we came from direct link, still set up event listeners
        // but DON'T load another question
        topicItems.forEach(item => {
            item.addEventListener('click', function() {
                const topic = this.getAttribute('data-topic');
                selectTopic(topic);
            });
        });
        
        showAnswerBtn.addEventListener('click', showAnswer);
        nextQuestionBtn.addEventListener('click', loadQuestion);
        initShareFunctionality();
        
        // Still preload next question for better UX
        setTimeout(preloadNextQuestion, 100);
    }
}

        // Initialize share functionality
        function initShareFunctionality() {
            // Toggle share options on button click
            shareBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                // Toggle the share options
                const isShowing = shareOptions.classList.contains('show');
                // Close all other share options first
                document.querySelectorAll('.share-options').forEach(option => {
                    option.classList.remove('show');
                });
                // Toggle this one
                if (!isShowing) {
                    shareOptions.classList.add('show');
                }
                
                // Prevent the click from bubbling to document
                e.stopPropagation();
            });
            
            // Handle share option clicks
            document.querySelectorAll('.share-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const shareType = this.getAttribute('data-type');
                    shareQuestion(shareType);
                    shareOptions.classList.remove('show');
                });
            });
            
            // Close share options when clicking outside
            document.addEventListener('click', function(e) {
                // Check if click is outside share options and share button
                if (!shareBtn.contains(e.target) && !shareOptions.contains(e.target)) {
                    shareOptions.classList.remove('show');
                }
            });
            
            // Also close when pressing Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    shareOptions.classList.remove('show');
                }
            });
        }

        // Create WhatsApp share text
        function createWhatsAppShareText(shareType) {
            if (!currentQuestion) {
                return '';
            }
            
            const topicName = getDisplayTopicName(currentTopic);
            const interactiveEmoji = getRandomInteractiveEmoji();
            
            // Base URL for the platform (just the main URL)
            const platformUrl = 'https://aptitude-practice-platform-by-shubh.vercel.app/';
            
            let shareText = '';
            
            if (shareType === 'question-only') {
                // Share question + options without answer
                shareText = `${interactiveEmoji} *Aptitude Challenge!* ${interactiveEmoji}\n\n`;
                shareText += `üìö *Topic:* ${topicName}\n\n`;
                shareText += `‚ùì *Question:* ${currentQuestion.question}\n\n`;
                
                if (currentQuestion.options && currentQuestion.options.length > 0) {
                    shareText += `*Options:*\n`;
                    currentQuestion.options.forEach((option, index) => {
                        shareText += `${index + 1}. ${option}\n`;
                    });
                }
                
                shareText += `\nüí≠ *What's your answer?* Reply with your choice!\n\n`;
                shareText += `üîó *Practice More:* ${platformUrl}`;
                
            } else if (shareType === 'with-solution') {
                // Share question + options + answer + explanation
                shareText = `üìö *Aptitude Question with Solution* üìö\n\n`;
                shareText += `üìñ *Topic:* ${topicName}\n\n`;
                shareText += `‚ùì *Question:* ${currentQuestion.question}\n\n`;
                
                if (currentQuestion.options && currentQuestion.options.length > 0) {
                    shareText += `*Options:*\n`;
                    currentQuestion.options.forEach((option, index) => {
                        shareText += `${index + 1}. ${option}\n`;
                    });
                }
                
                shareText += `\n‚úÖ *Correct Answer:* ${currentQuestion.answer || 'Not available'}\n\n`;
                shareText += `üìñ *Explanation:*\n${currentQuestion.explanation || 'No explanation available.'}\n\n`;
                shareText += `üîó *Practice More:* ${platformUrl}`;
            }
            
            return shareText;
        }

        // Share to WhatsApp function
        function shareQuestion(shareType) {
            if (!currentQuestion) {
                showShareSuccess('No question loaded yet!');
                return;
            }
            
            // Create share text
            const shareText = createWhatsAppShareText(shareType);
            
            // Clean the text for WhatsApp
            const cleanText = shareText
                .replace(/\*\*/g, '*')
                .replace(/\n\s*\n\s*\n/g, '\n\n')
                .trim();
            
            // Encode for URL
            const encodedText = encodeURIComponent(cleanText);
            
            // Create WhatsApp URLs
            const whatsappUrls = {
                app: `whatsapp://send?text=${encodedText}`, // WhatsApp mobile app
                api: `https://api.whatsapp.com/send?text=${encodedText}`, // WhatsApp web API
                web: `https://web.whatsapp.com/send?text=${encodedText}` // WhatsApp Web
            };
            
            // Try to detect if user is on mobile
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            
            // Try to open WhatsApp
            if (isMobile) {
                // On mobile, try to open WhatsApp app
                try {
                    window.location.href = whatsappUrls.app;
                    
                    // Fallback if still on page
                    setTimeout(() => {
                        if (!document.hidden) {
                            window.open(whatsappUrls.api, '_blank');
                        }
                    }, 1000);
                } catch (e) {
                    window.open(whatsappUrls.api, '_blank');
                }
            } else {
                // On desktop, use WhatsApp Web
                window.open(whatsappUrls.api, '_blank', 'noopener,noreferrer');
            }
            
            showShareSuccess('Opening WhatsApp...');
        }

        // Show share success message
        function showShareSuccess(message) {
            shareSuccess.querySelector('span:last-child').textContent = message;
            shareSuccess.classList.add('show');
            
            setTimeout(() => {
                shareSuccess.classList.remove('show');
            }, 3000);
        }

        // Select a topic and load a question
        function selectTopic(topic) {
            currentTopic = topic;
            
            // Update active topic in sidebar
            topicItems.forEach(item => {
                if (item.getAttribute('data-topic') === topic) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Update UI
            currentTopicElement.textContent = getDisplayTopicName(topic);
            currentQuestionTopic.textContent = getDisplayTopicName(topic) + " Question";
            questionTopicBadge.textContent = getDisplayTopicName(topic);
            
            // Load a question from the new topic
            loadQuestion();
            
            // Preload next question
            preloadNextQuestion();
        }

        // Get display name for topic
        function getDisplayTopicName(topic) {
            const displayNames = {
                'Random': 'Random',
                'MixtureAndAlligation': 'Mixture and Alligation',
                'Age': 'Age',
                'PermutationAndCombination': 'Permutation and Combination',
                'ProfitAndLoss': 'Profit and Loss',
                'PipesAndCistern': 'Pipes and Cistern',
                'SpeedTimeDistance': 'Speed Time Distance',
                'Calendar': 'Calendar',
                'SimpleInterest': 'Simple Interest'
            };
            
            return displayNames[topic] || topic;
        }

        // Preload next question in background
        async function preloadNextQuestion() {
            try {
                const response = await fetch(apiEndpoints[currentTopic], {
                    signal: AbortSignal.timeout(5000) // 5 second timeout
                });
                
                if (response.ok) {
                    preloadedQuestion = await response.json();
                }
            } catch (error) {
                // Silently fail - preloading is optional
                console.log('Preloading failed (optional):', error.message);
            }
        }

        // Fast load question with caching and preloading
        async function loadQuestion() {
            // Show loading state
            loadingElement.style.display = 'block';
            questionContent.style.display = 'none';
            explanationContainer.classList.remove('show');
            selectedOption = null;
            
            // Reset option styles
            const options = document.querySelectorAll('.option-item');
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Close share options
            shareOptions.classList.remove('show');
            
            // Try to use preloaded question first (fastest)
            if (preloadedQuestion && Math.random() < 0.7) { // 70% chance to use preloaded
                currentQuestion = preloadedQuestion;
                displayQuestion(currentQuestion);
                questionCount++;
                updateStats();
                
                // Preload next question in background
                setTimeout(preloadNextQuestion, 100);
                return;
            }
            
            // If no preloaded question or we want fresh data, fetch new
            try {
                // Create cache key
                const cacheKey = `${currentTopic}_${Date.now() % 10000}`; // Cache for short time
                
                // Check cache first
                if (questionCache[cacheKey]) {
                    currentQuestion = questionCache[cacheKey];
                } else {
                    // Fetch with timeout
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 3000); // 3 second timeout
                    
                    const response = await fetch(apiEndpoints[currentTopic], {
                        signal: controller.signal,
                        cache: 'no-cache' // Always fresh but fast
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (!response.ok) {
                        throw new Error(`API request failed with status ${response.status}`);
                    }
                    
                    currentQuestion = await response.json();
                    
                    // Cache the result
                    questionCache[cacheKey] = currentQuestion;
                    
                    // Clean old cache entries
                    if (Object.keys(questionCache).length > 20) {
                        const keys = Object.keys(questionCache);
                        for (let i = 0; i < keys.length - 20; i++) {
                            delete questionCache[keys[i]];
                        }
                    }
                }
                
                // Update question count
                questionCount++;
                
                // Update UI with question data
                displayQuestion(currentQuestion);
                
                // Update stats
                updateStats();
                
                // Preload next question in background
                setTimeout(preloadNextQuestion, 100);
                
            } catch (error) {
                console.error('Error fetching question:', error);
                
                // Show error state with retry option
                loadingElement.innerHTML = `
                    <div style="color: #e74c3c; font-size: 3rem; margin-bottom: 15px;">‚ö†Ô∏è</div>
                    <p>Failed to load question from API</p>
                    <p style="font-size: 0.9rem; margin-top: 10px;">Error: ${error.message}</p>
                    <button id="retryBtn" class="btn-primary" style="margin-top: 20px;">Retry</button>
                    <button id="useCachedBtn" class="btn-secondary" style="margin-top: 10px;">Use Cached Question</button>
                `;
                
                // Add retry button listener
                document.getElementById('retryBtn').addEventListener('click', loadQuestion);
                document.getElementById('useCachedBtn').addEventListener('click', function() {
                    // Try to use any cached question
                    const cachedKeys = Object.keys(questionCache);
                    if (cachedKeys.length > 0) {
                        const randomKey = cachedKeys[Math.floor(Math.random() * cachedKeys.length)];
                        currentQuestion = questionCache[randomKey];
                        displayQuestion(currentQuestion);
                        questionCount++;
                        updateStats();
                    }
                });
            }
        }

        // Display the question and options
        function displayQuestion(questionData) {
            // Hide loading, show content
            loadingElement.style.display = 'none';
            questionContent.style.display = 'block';
            
            // Set question text
            questionText.textContent = questionData.question;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Create and display options
            if (questionData.options && questionData.options.length > 0) {
                questionData.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option-item';
                    optionElement.textContent = option;
                    optionElement.setAttribute('data-index', index);
                    
                    optionElement.addEventListener('click', function() {
                        selectOption(this);
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
            } else {
                // Handle case where options might not be in the expected format
                const optionElement = document.createElement('div');
                optionElement.className = 'option-item';
                optionElement.textContent = "Options not available for this question";
                optionElement.style.cursor = 'not-allowed';
                optionsContainer.appendChild(optionElement);
            }
            
            // Set explanation text
            explanationText.textContent = questionData.explanation || "No explanation available.";
            correctAnswerText.textContent = `Correct Answer: ${questionData.answer || "Not available"}`;
            
            // Enable share button immediately
            shareBtn.disabled = false;
            shareBtn.style.opacity = '1';
            shareBtn.style.cursor = 'pointer';
        }

        // Handle option selection
        function selectOption(optionElement) {
            // If already showing answer, don't allow selection
            if (explanationContainer.classList.contains('show')) {
                return;
            }
            
            // Remove selected class from all options
            const options = document.querySelectorAll('.option-item');
            options.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            optionElement.classList.add('selected');
            selectedOption = optionElement.textContent;
        }

        // Show the answer and explanation
        function showAnswer() {
            if (!currentQuestion) {
                alert('No question loaded');
                return;
            }
            
            // If no option selected, just show explanation
            if (!selectedOption) {
                explanationContainer.classList.add('show');
                return;
            }
            
            // Mark correct and incorrect answers
            const options = document.querySelectorAll('.option-item');
            const correctAnswer = currentQuestion.answer;
            
            options.forEach(option => {
                if (option.textContent === correctAnswer) {
                    option.classList.add('correct');
                } else if (option.classList.contains('selected') && option.textContent !== correctAnswer) {
                    option.classList.add('incorrect');
                }
            });
            
            // Update correct count if answered correctly
            if (selectedOption === correctAnswer) {
                correctCount++;
                updateStats();
            }
            
            // Show explanation
            explanationContainer.classList.add('show');
            
            // Close share options if open
            shareOptions.classList.remove('show');
        }

        // Update statistics display
        function updateStats() {
            totalQuestionsElement.textContent = questionCount;
            correctAnswersElement.textContent = correctCount;
            currentTopicElement.textContent = getDisplayTopicName(currentTopic);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize practice page functionality
            initPracticePage();
            
            // Set up home page navigation
            document.getElementById('startPracticeBtn').addEventListener('click', () => showPracticePage());
            document.getElementById('heroPracticeBtn').addEventListener('click', () => showPracticePage());
            document.getElementById('ctaPracticeBtn').addEventListener('click', () => showPracticePage());
            
            // Set up topic cards on home page to navigate directly to that topic
            document.querySelectorAll('.topic-card').forEach(card => {
                card.addEventListener('click', function() {
                    const topic = this.getAttribute('data-topic');
                    showPracticePage(topic);
                });
            });
            
            // Initialize with home page
            showHomePage();
            
            // Add subtle animations to elements
            animateElements();
        });

        // Add subtle animations to various elements
        function animateElements() {
            // Animate feature cards with staggered delay
            document.querySelectorAll('.feature-card').forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Animate topic cards with staggered delay
            document.querySelectorAll('.topic-card').forEach((card, index) => {
                card.style.animationDelay = `${index * 0.05}s`;
            });
            
            // Add hover effect to buttons
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                });
                button.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        }
    </script>
</body>
</html>

